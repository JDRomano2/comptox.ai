<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>How to build ComptoxAI &mdash; ComptoxAI v0.1.dev0 Manual</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="ComptoxAI v0.1.dev0 Manual" href="../index.html" >
    <link rel="up" title="ComptoxAI User Guide" href="index.html" >
    <link rel="next" title="ComptoxAI’s graph database" href="graph.html" >
    <link rel="prev" title="ComptoxAI User Guide" href="index.html" > 
  </head>
  <body>
<div class="container">
  <span class="top-logo-header">
    <a href="/" class="navbar-brand" id="logo">ComptoxAI</a>
  </span> 
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="https://comptox.ai/">comptox.ai</a></li>
	
        <li class="active"><a href="../contents.html">ComptoxAI v0.1.dev0 Manual</a></li>
	
          <li class="active"><a href="index.html" accesskey="U">ComptoxAI User Guide</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="graph.html" title="ComptoxAI’s graph database"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="index.html" title="ComptoxAI User Guide"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to build ComptoxAI</a><ul>
<li><a class="reference internal" href="#overview-of-the-build-process">Overview of the build process</a></li>
<li><a class="reference internal" href="#installing-prerequisites">Installing prerequisites</a><ul>
<li><a class="reference internal" href="#python-package-prerequisites">Python package prerequisites</a></li>
<li><a class="reference internal" href="#ontology-prerequisites">Ontology prerequisites</a></li>
<li><a class="reference internal" href="#graph-database-prerequisites">Graph database prerequisites</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-the-build-script">Running the build script</a></li>
<li><a class="reference internal" href="#testing-the-build">Testing the build</a></li>
<li><a class="reference internal" href="#running-comptoxai-locally-vs-on-a-server">Running ComptoxAI locally vs. on a server</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">ComptoxAI User Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="graph.html"
                        title="next chapter">ComptoxAI’s graph database</a></p>

<div id="searchbox" style="display: none" role="search">
  <h4>Quick search</h4>
    <div>
    <form class="search" action="../search.html" method="get">
      <input type="text" style="width: inherit;" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="module-comptox_ai.doc.building">
<span id="how-to-build-comptoxai"></span><h1>How to build ComptoxAI<a class="headerlink" href="#module-comptox_ai.doc.building" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-of-the-build-process">
<h2>Overview of the build process<a class="headerlink" href="#overview-of-the-build-process" title="Permalink to this headline">¶</a></h2>
<p>ComptoxAI consists of several main components:</p>
<ol class="arabic simple">
<li><p>The Python <code class="docutils literal notranslate"><span class="pre">comptox_ai</span></code> package, which includes:</p>
<ol class="arabic simple">
<li><p>A connection to the graph database</p></li>
<li><p>A library of graph machine learning models</p></li>
<li><p>This documentation</p></li>
</ol>
</li>
<li><p>ComptoxAI’s graph database (implemented in Neo4j)</p></li>
<li><p>The ComptoxAI OWL ontology (developed in Protégé and populated using <code class="docutils literal notranslate"><span class="pre">owlready2</span></code>)</p></li>
<li><p>The ComptoxAI website</p></li>
</ol>
<p>When you install the Python package, the other components are
(currently) not automatically built and installed simultaneously,
although complete automation of the build is intended for a future
release.</p>
</div>
<div class="section" id="installing-prerequisites">
<h2>Installing prerequisites<a class="headerlink" href="#installing-prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-package-prerequisites">
<h3>Python package prerequisites<a class="headerlink" href="#python-package-prerequisites" title="Permalink to this headline">¶</a></h3>
<p>All prerequisites for the Python package are included in
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">requirements-conda.txt</span></code>. After downloading
the source distribution, you can install all packages via PIP by
running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -r requirements.txt
</pre></div>
</div>
<p>If you use Conda to manage your Python distribution, you can install
many of the packages from their Conda sources by first running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ conda install -r requirements-conda.txt
</pre></div>
</div>
<p>Since Conda doesn’t index several of the prerequisite packages, you
should follow this command by running the <code class="docutils literal notranslate"><span class="pre">pip</span></code> installation shown
above.</p>
</div>
<div class="section" id="ontology-prerequisites">
<h3>Ontology prerequisites<a class="headerlink" href="#ontology-prerequisites" title="Permalink to this headline">¶</a></h3>
<p><em>tl,dr; Most users don’t need to install anything new.</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 38%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Prerequisite</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Protégé</p></td>
<td><p>5.5.0</p></td>
<td><p><em>optional</em></p></td>
</tr>
</tbody>
</table>
<p>The base ontology (i.e., not populated with individuals) is included
as part of the Python package’s source distribution, and named
<code class="docutils literal notranslate"><span class="pre">comptox.rdf</span></code>. This file was created manually using the Protégé
ontology editor (v5.5.0). The OWL/RDF file can be opened and modified
in any modern OWL ontology editor, although we prefer Protégé, but
doing so may cause errors later in the build process.</p>
<p>During the build process, we use <code class="docutils literal notranslate"><span class="pre">owlready2</span></code> to handle all Python
interactions with the base ontology. <code class="docutils literal notranslate"><span class="pre">owlready2</span></code> is included as a
prerequisite in the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file, so it should be
installed for all users who have followed the standard installation
instructions.</p>
</div>
<div class="section" id="graph-database-prerequisites">
<h3>Graph database prerequisites<a class="headerlink" href="#graph-database-prerequisites" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the near future, we will be making a public (read-only) instance of
the graph database available online for remote use; until that time,
users will need to install the database locally in order to use most
of the components of ComptoxAI.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 38%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Prerequisite</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Neo4j</p></td>
<td><p>at least 3.5.6</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Neo4j desktop</p></td>
<td></td>
<td><p><em>optional</em></p></td>
</tr>
</tbody>
</table>
<p>ComptoxAI’s graph database is implemented using the Neo4j graph
database management system, which is currently the leading graph
database software for both academic and commercial applications.
Depending on your local operating system, hardware, and level of skill
administrating client/server applications you may opt to use different
Neo4j implementations, but most users should install Neo4j Desktop due
to its ease of use and self-contained nature.</p>
</div>
</div>
<div class="section" id="running-the-build-script">
<h2>Running the build script<a class="headerlink" href="#running-the-build-script" title="Permalink to this headline">¶</a></h2>
<p>The script used to populate the ontology and build the graph database
is currently found at <code class="docutils literal notranslate"><span class="pre">comptox_ai/scripts/build/build_all.py</span></code>. It
can be run like any typical Python script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python3.7 ./build_all.py
</pre></div>
</div>
<p>Windows users may encounter issues running the build script, since no
standard implementation of <code class="xref py py-obj docutils literal notranslate"><span class="pre">curses</span></code> exists for Python on Windows. A
good workaround has been to install the wheel file from the following
link corresponding to your version of Python and whether you are
running 32- or 64-bit Windows: <a class="reference external" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#curses">https://www.lfd.uci.edu/~gohlke/pythonlibs/#curses</a></p>
</div>
<div class="section" id="testing-the-build">
<h2>Testing the build<a class="headerlink" href="#testing-the-build" title="Permalink to this headline">¶</a></h2>
<p>The unit tests included in the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory (relative to the
source code’s root) cover not only the Python package, but also the
graph database and ontology. These tests are run using <code class="docutils literal notranslate"><span class="pre">pytest</span></code>,
which is included in the Python package’s prerequisites (and therefore
is likely already installed).</p>
<p>To perform the tests, simply navigate to the package root and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests/
</pre></div>
</div>
</div>
<div class="section" id="running-comptoxai-locally-vs-on-a-server">
<h2>Running ComptoxAI locally vs. on a server<a class="headerlink" href="#running-comptoxai-locally-vs-on-a-server" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2019, Joseph D. Romano.
      </li>
      <li>
      Last updated on Dec 17, 2019.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.2.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>