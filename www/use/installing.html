
<!DOCTYPE html>
<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>

<head>
  <meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

  

    <title>Installing ComptoxAI &mdash; ComptoxAI 0.1a documentation</title>
  



  <link rel="shortcut icon" href="../_static/favicon.ico"/>



<script src="https://use.fontawesome.com/04f6e4e6fe.js"></script>


<link rel="stylesheet" href="../_static/css/vendor/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="../_static/css/custom.css" type="text/css" /> 
</head>

<!-- see: https://stackoverflow.com/a/27704409/1730417 -->
<body id="bootstrap-overrides">
  <header class="fixed-top">
  <nav class="navbar navbar-expand-md navbar-light bg-light">
    <a href="../index.html" class="navbar-brand" id="logo">ComptoxAI</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        
        <li class="nav-item"><a href="../about.html" class="nav-link">About</a></li>
        <li class="nav-item"><a href="../install.html" class="nav-link">Install</a></li>
        <li class="nav-item"><a href="index.html" class="nav-link">Guide</a></li>
        <li class="nav-item"><a href="../api/index.html" class="nav-link">API Docs</a></li>
        <li class="nav-item"><a href="../contact.html" class="nav-link">Contact</a></li>
      </ul>
      <span class="navbar-text">
        <a href="https://github.com/jdromano2/comptox_ai" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
      </span>
    </div>
  </nav>
</header>
    <div class="d-flex" id="page-wrapper">
      <div id="page-content-wrapper">
        <div class="page-content container-fluid body px-md-3" role="main">
          
  <div class="section" id="module-comptox_ai.doc.installing">
<span id="installing-comptoxai"></span><span id="guide-installing"></span><h1>Installing ComptoxAI<a class="headerlink" href="#module-comptox_ai.doc.installing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview-of-the-installation-and-build-processes">
<h2>Overview of the installation and build processes<a class="headerlink" href="#overview-of-the-installation-and-build-processes" title="Permalink to this headline">¶</a></h2>
<p>ComptoxAI consists of several main components:</p>
<ol class="arabic simple">
<li><p>The Python <code class="docutils literal notranslate"><span class="pre">comptox_ai</span></code> package, which includes:</p>
<ol class="arabic simple">
<li><p>A connection to the graph database</p></li>
<li><p>A library of graph machine learning models</p></li>
<li><p>This documentation</p></li>
</ol>
</li>
<li><p>ComptoxAI’s graph database (implemented in Neo4j)</p></li>
<li><p>The ComptoxAI OWL ontology (developed in Protégé and populated using <code class="docutils literal notranslate"><span class="pre">owlready2</span></code>) #. The ComptoxAI website</p></li>
</ol>
<p>When you install the Python package, the other components are (currently) not
automatically built and installed simultaneously, although complete automation
of the build is intended for a future release.</p>
</div>
<div class="section" id="installing-prerequisites">
<h2>Installing prerequisites<a class="headerlink" href="#installing-prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-prerequisites">
<h3>Python prerequisites<a class="headerlink" href="#python-prerequisites" title="Permalink to this headline">¶</a></h3>
<p>ComptoxAI is only compatible with Python 3. If you’d still like to use Python 2
for other applications, there are several good solutions for maintaining
multiple Python installations on a single system. We recommend using either
<a class="reference external" href="https://anaconda.org/">Anaconda</a> or <a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a> if
this applies to you.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 19%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Prerequisite</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Python</p></td>
<td><p>&gt;= 3.7.0</p></td>
<td><p>Currently untested on Python 3 versions &lt; 3.7</p></td>
</tr>
</tbody>
</table>
<p>All Python package dependencies should be automatically installed when you run
the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code> command. If - for some reason - this fails to happen, you
can manually the dependencies using the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the base
directory of the code repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -r requirements.txt    
</pre></div>
</div>
</div>
<div class="section" id="ontology-prerequisites">
<h3>Ontology prerequisites<a class="headerlink" href="#ontology-prerequisites" title="Permalink to this headline">¶</a></h3>
<p><em>tl,dr; Most users don’t need to install anything new.</em></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35%" />
<col style="width: 38%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Prerequisite</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Protégé</p></td>
<td><p>5.5.0</p></td>
<td><p><em>optional</em></p></td>
</tr>
</tbody>
</table>
<p>The base ontology (i.e., not populated with individuals) is included as part of
the Python package’s source distribution, and named <code class="docutils literal notranslate"><span class="pre">comptox.rdf</span></code>. This file
was created manually using the Protégé ontology editor (v5.5.0). The OWL/RDF
file can be opened and modified in any modern OWL ontology editor, although we
prefer Protégé, but doing so may cause errors later in the build process.</p>
<p>During the build process, we use <code class="docutils literal notranslate"><span class="pre">owlready2</span></code> to handle all Python interactions
with the base ontology. <code class="docutils literal notranslate"><span class="pre">owlready2</span></code> is included as a prerequisite in the
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file, so it should be installed for all users who have
followed the standard installation instructions.</p>
</div>
<div class="section" id="graph-database-prerequisites">
<h3>Graph database prerequisites<a class="headerlink" href="#graph-database-prerequisites" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the near future, we will be making a public (read-only) instance of
the graph database available online for remote use; until that time,
users will need to install the database locally in order to use most
of the components of ComptoxAI.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 23%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Prerequisite</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Neo4j</p></td>
<td><p>at least 3.5.6</p></td>
<td><p><em>version &gt;= 4.0.0 not yet tested</em></p></td>
</tr>
</tbody>
</table>
<p>ComptoxAI’s graph database is implemented using the Neo4j graph database
management system, which is currently the leading graph database software for
both academic and commercial applications.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your local operating system, hardware, and level of skill
administrating client/server applications you may opt to use different Neo4j
implementations, but <strong>most users should install Neo4j Desktop</strong> due to its ease
of use and self-contained nature.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../api/graph.html#comptox_ai.graph.Graph" title="comptox_ai.graph.Graph"><code class="xref py py-class docutils literal notranslate"><span class="pre">comptox_ai.graph.Graph</span></code></a></p>
</div>
</div>
</div>
<div class="section" id="installing-the-comptoxai-python-package">
<h2>Installing the ComptoxAI Python package<a class="headerlink" href="#installing-the-comptoxai-python-package" title="Permalink to this headline">¶</a></h2>
<p>Clone the git repository to a location on your local machine and install using
<code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/JDRomano2/comptox_ai.git $ cd comptox_ai $ pip
install .
</pre></div>
</div>
</div>
<div class="section" id="downloading-source-database-files">
<h2>Downloading source database files<a class="headerlink" href="#downloading-source-database-files" title="Permalink to this headline">¶</a></h2>
<p>You’ll need a local copy of a number of source files in order to build the graph
database from scratch. You will need to group the required files for each
database into a directory named for that database, and then group all of these
database-specific directories underneath a single parent data directory.</p>
<p>For the currently supported source database versions, the directory setup should
look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>data
├── comptox_ai
│   └── comptox.rdf
├── ctd
│   ├── CTD_chemicals.csv
│   ├── CTD_chemicals_diseases.csv
│   ├── CTD_diseases.csv
│   └── CTD_genes.csv
├── drugbank
│   └── drug_links.csv
├── epa
│   ├── DSSTox_Mapping_20160701
│   │   └── dsstox_20160701.tsv
│   ├── Dsstox_CAS_number_name.xlsx
│   └── PubChem_DTXSID_mapping_file.txt
└── hetionet
    ├── hetionet-v1.0-edges.sif
    └── hetionet-v1.0-nodes.tsv
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="databases.html#guide-databases"><span class="std std-ref">Source Databases</span></a></p>
</div>
</div>
<div class="section" id="running-the-build-script">
<h2>Running the build script<a class="headerlink" href="#running-the-build-script" title="Permalink to this headline">¶</a></h2>
<p>The script used to populate the ontology and build the graph database is
currently found at <code class="docutils literal notranslate"><span class="pre">comptox_ai/scripts/build/build_all.py</span></code>. It can be run like
any typical Python script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python ./build_all.py
</pre></div>
</div>
</div>
<div class="section" id="testing-the-build">
<h2>Testing the build<a class="headerlink" href="#testing-the-build" title="Permalink to this headline">¶</a></h2>
<p>The unit tests included in the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> directory (relative to the source
code’s root) cover not only the Python package, but also the graph database and
ontology. These tests are run using <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, which is included in the Python
package’s prerequisites (and therefore is likely already installed).</p>
<p>To perform the tests, simply navigate to the package root and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pytest tests/
</pre></div>
</div>
<p>The tests will fail if you don’t have a currently-running instance of the Neo4j
graph database and/or a properly specified <code class="docutils literal notranslate"><span class="pre">config.cfg</span></code> file.</p>
</div>
</div>



          <footer class="container-fluid">
  © 2020 by Joseph D. Romano (<a href="https://tldrlegal.com/license/mit-license" target="_blank">MIT License</a>)
</footer>
        </div>
      </div>
    </div>
  
</body>